@model IEnumerable<LCode.Models.Curso>
 @using LCode.Models

@{
    ViewBag.Title = "Compra";
    Layout = null;
}
<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link rel="stylesheet" href="~/Content/bootstrap.min.css">
    <link rel="stylesheet" href="~/Content/login.css">
    <link rel="stylesheet" href="~/Content/carrinho.css">
    <link rel="stylesheet" href="~/Content/compra.css">
    <link rel="stylesheet" href="~/Content/detalhes-curso.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="~/image/png" sizes="16x16" href="~/image/favicon.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

</head>

<body>
    <script src="js/bootstrap.min.js"></script>
    <header>
        <main>
            <section class="section">
                <nav class="navbar navbar-expand-lg navbar-light bg-purpk nav-pills">
                    <div class="d-flex flex-grow-1">
                        <span class="w-100 d-lg-none d-block"></span>
                        <img src="~/image/logo.png" width="150" height="40" class="d-inline-block align-top" alt=""></a>
                        </a>
                        <div class="w-100 text-right">
                            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#myNavbar">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </div>
                    </div>
                    <div class="collapse navbar-collapse flex-grow-1 text-right" id="myNavbar">
                        <ul class="navbar-nav ml-auto flex-nowrap">
                            <li class="nav-item">
                                <span class="span">@Html.ActionLink("HOME", "Index", "Home", new { area = "" }, new { @class = "nav-link m-2" })</span>
                            </li>
                            <li class="nav-item">
                                <span class="span">@Html.ActionLink("CURSOS", "Cursos", "Curso", new { area = "" }, new { @class = "nav-link m-2" })</span>
                            </li>
                            <li class="nav-item">
                                <span class="span">@Html.ActionLink("SOBRE", "Sobre", "Home", new { area = "" }, new { @class = "nav-link m-2" })</span>
                            </li>
                            <li class="nav-item">
                                <span class="span">@Html.ActionLink("CONTATO", "Contato", "Home", new { area = "" }, new { @class = "nav-link m-2" })</span>
                            </li>
                            @if (Session["Adm"] != null || Session["Professor"] != null || Session["Estudante"] != null)
                            {
                                <li class="nav-item">
                                    <span class="span">@Html.ActionLink("SAIR", "Logout", "Autenticacao", new { area = "" }, new { @class = "nav-link m-2" })</span>
                                </li>
                            }
                            else
                            {
                                <li class="nav-item">
                                    <span class="span">@Html.ActionLink("CADASTRE-SE", "Cadastro", "Autenticacao", new { area = "" }, new { @class = "nav-link m-2" })</span>
                                </li>
                                <li class="nav-item">
                                    <span class="span">@Html.ActionLink("LOGIN", "Login", "Autenticacao", new { area = "" }, new { @class = "nav-link m-2" })</span>
                                </li>
                            }
                        </ul>
                    </div>
                </nav>


                <div class="container container-top">
                    <div class="row h-100 justify-content-center align-items-center">
                        <div class="col-12 col-md-4 col-lg-6 col-xl-6 d-none d-md-block device-mobile container-text">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 d-none d-md-block device-mobile box-texto h-100">
                                <div class="row w-100 justify-content-center">
                                    <div class="col-12">
                                        <h2 class="mt-4 align-items-center ml-4 title-head text-center color-p white">Detalhes da <span class="color-purple-2">Compra</span></h2>
                                    </div>
                                </div>

                                <div class="jumbotron jumbotron-pay">

                                    <table class="table table-borderless mt-5">
                                        @if (Model != null)
                                        {
                                            foreach (var item in Model)
                                            {
                                            <tr class="card-cart card-pay">
                                                <td>
                                                    <img src="@Url.Content(item.Imagem_link)" class="cart-img">
                                                    <p class="cart-subtitle cart-subtitle-pay">@Html.DisplayFor(model => item.Curso_nome)</p>
                                                </td>
                                                <td>
                                                    <p class="cart-price cart-price-pay">R$ @Html.DisplayFor(model => item.Curso_valor)</p>
                                                </td>
                                            </tr>
                                            }
                                        }
                                    </table>

                                    <table class="table table-borderless">
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>

                                            <td>
                                                <h3 class="total">Total:</h3>
                                            </td>
                                            <td>
                                                <div class="cart-price-total">
                                                    <h3>R$ @TempData["total"]‬</h3>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>

                                </div>
                            </div>
                        </div>

                        <div class="col-12 col-sm-12 col-md-8 col-lg-6 col-xl-6 box-login">
                            <div class="login m-auto">
                                <div class="row w-100 justify-content-center m-auto">
                                    <div class="col-12">
                                        <h2 class="mt-4 align-items-center ml-4 title-head text-center">Finalizar Compra</h2>
                                    </div>
                                    <div class="progress col-lg-12">
                                        <div class="step active"></div>
                                        <div class="step active"></div>
                                        <div class="step"></div>
                                        <div class="step"></div>
                                    </div>
                                </div>
                                <div class="row w-100  m-auto">
                                    @if (TempData["cursoJaComprado"] != null)
                                    {

                                        <div class="alert alert-danger" role="alert">
                                            <strong>Oh não! </strong>@TempData["cursoJaComprado"]
                                        </div>


                                    }
                                    @using (Html.BeginForm("Compra", "Compra", new { curso_id = Request.QueryString["curso_id"] }, FormMethod.Post))
                                    {

                                        <form class="mt-3">
                                            <div class="form-row ">
                                                <h5 class="ml-4">Forma de pagamento</h5>
                                                <div class="col-lg-12">
                                                    <div class="payment-method">
                                                        <label for="card" class="method card">
                                                            <div class="card-logos">
                                                                <img src="~/image/visa-logo.png" />
                                                                <img src="~/image/mastercard.png" />
                                                            </div>
                                                            <div class="radio-input">
                                                                <input id="card" type="radio" name="pagamento" value="Cartao" required>
                                                                Cartão de crédito
                                                            </div>
                                                        </label>

                                                        <label for="paypal" class="method paypal">
                                                            <div class="card-logos">
                                                                <img src="~/image/boleto.png" />
                                                            </div>
                                                            <div class="radio-input">
                                                                <input id="paypal" type="radio" name="pagamento" value="Boleto" required>
                                                                Boleto bancário
                                                            </div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <hr>


                                                <div class="col-5 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="tel" required class="form-control" id="nomeCartao" placeholder="Nome no cartão">
                                                </div>

                                                <div class="col-5 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="text" required minlength="11" maxlength="11" class="form-control" id="Cpf" placeholder="CPF">
                                                </div>

                                                <div class="col-11 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="text" required maxlength="16" class="form-control" id="numeroCartao" placeholder="Número do cartão">
                                                </div>

                                                <div class="col-3 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="text" required maxlength="2" class="form-control" id="mesCartao" placeholder="MM">
                                                </div>

                                                <div class="col-3 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="text" required  maxlength="4" class="form-control" id="anoCartao" placeholder="AAAA">
                                                </div>

                                                <div class="col-3 form-group mt-3 mx-auto">
                                                    <span class="far fa-credit-card"></span><input type="number" required class="form-control" id="cvvCartao" placeholder="CVV">
                                                </div>

                                            </div>
                                            <div class="col-8 col-md-10 mx-auto">
                                                <button type="submit" class="btn btn btn-block btn-purple-form mt-4 mb-5">Finalizar Pagamento</button>
                                            </div>
                                        </form>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

            </section>
        </main>
    </header>
</body>






